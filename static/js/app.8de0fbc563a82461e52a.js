webpackJsonp([12],{102:function(n,t){},105:function(n,t){n.exports={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{attrs:{id:"app"}},[e("transition",{attrs:{name:n.transitionName},on:{afterLeave:n.clearTransition}},[e("router-view")],1),n._v(" "),e("play-fixed"),n._v(" "),e("transition",{attrs:{name:"list-view"}},[e(n.showlist&&"listView",{tag:"component"})],1)],1)},staticRenderFns:[]}},106:function(n,t){n.exports={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"fallback"},[e("i",{staticClass:"mintui mintui-back arrow",on:{click:function(t){n.bind(n.callback)}}})])},staticRenderFns:[]}},21:function(n,t,e){"use strict";function i(n){var t=parseInt(n/60),e=parseInt(n)%60;return""+(t/10<1?0:"")+t+" : "+(e/10<1?0:"")+e}function a(n){var t=n.split(":");return 60*parseInt(t[0])+parseInt(t[1])}function r(n,t,e,i,a){var n=String(n),r=n.length,t=t>>0,a=a>>>0,i=i||"0",o=t>=0?n.slice(0,t):n.slice(0,r+t),s=a>0?n.slice(t).slice(0,a):n.slice(t);return void 0===e?s:(o=o||i)+e+s}function o(n){var t=new Date(n),e=t.getFullYear(),i=t.getMonth(),a=t.getDate(),r=[31,e%4==0&&e%100!=0||e%400==0?29:28,31,30,31,30,31,31,30,31,30,31];return r.slice(1,i).reduce(function(n,t){return n+t},r[0])+a}function s(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return n.forEach(function(n){t.push(n.name)}),t.join("/")}function c(n){return parseInt(100*Number(n))+"%"}function u(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];return n.indexOf(n.find(function(n){return("object"==y()(n.data)?n.data:n).songid==t}))}function l(n){n&&n.preventDefault()}function p(n){var t={timeArr:[],lyricsArr:[],durationArr:[]};return n.split("\n").forEach(function(n){var e=n.indexOf("]");t.timeArr.push(a(n.slice(1,e))),t.lyricsArr.push(n.slice(e+1))}),t.timeArr.forEach(function(n,e){var i=t.timeArr;t.durationArr.push(e==i.length-1?10:i[e+1]-n)}),f(t)}function f(n){var t=n.timeArr||[],e=n.lyricsArr||[],i=n.durationArr||[],a=[];return e=e.filter(function(n,t){if(n)return a.push(t),!0}),t=t.filter(function(n,t){return a.find(function(n){return t==n})}),i=i.filter(function(n,t){return a.find(function(n){return t==n})}),{lyricsArr:e,timeArr:t,durationArr:i}}function d(n){var t=n||{},e=[];return e=[].concat(h()(t.hotkey)),e.unshift({k:t.special_key,url:n.special_url}),e.slice(0,6)}function m(n,t){var e=String(n).split("."),i=e[0],a=e[1]||"";return parseFloat(i+"."+a.slice(0,t>>0))}t.k=i,t.h=r,t.d=o,t.i=s,t.j=c,e.d(t,"f",function(){return S}),t.g=u,t.b=l,t.a=p,t.e=d,t.c=m;var g=e(37),h=e.n(g),v=e(66),y=e.n(v),S=function(){function n(n){if(n<3)return n;var t=n-20;return t>=0?t:0}return function(t,e){var i=n(e);return t.slice(i,i+30)}}()},36:function(n,t,e){var i=e(35)(e(61),e(106),null,null);n.exports=i.exports},50:function(n,t,e){"use strict";var i=e(2),a=e(21);i.default.filter("listenFormat",function(n){return e.i(a.h)(n,-4,".",0,1)}),i.default.filter("getDayOfYear",a.d),i.default.filter("spliceSinger",a.i),i.default.filter("convertListenCount",a.j),i.default.filter("timeFormat",a.k)},51:function(n,t,e){"use strict";var i=e(2),a=e(102),r=(e.n(a),e(49)),o=e.n(r);i.default.use(o.a)},52:function(n,t,e){"use strict";var i=e(2),a=e(9),r=e(21);i.default.mixin({methods:{playMusic:function(n,t,i){var o=(n[t],e.i(r.f)(n,t)),s=e.i(r.g)(o,i);a.a.commit("playing/stackSonglist",o),a.a.dispatch("playing/playSong",s)},goSpecial:function(n){this.$router.push({name:"special",query:{url:encodeURIComponent(n)}})}}})},53:function(n,t,e){"use strict";var i=e(2),a=e(107),r=e(9),o=e(49);e.n(o);i.default.use(a.a);var s=new a.a({linkActiveClass:"",mode:"history",routes:[{path:"/",name:"index",component:function(n){e.e(0).then(function(){var t=[e(111)];n.apply(null,t)}.bind(this)).catch(e.oe)}},{path:"/topList",name:"topList",component:function(n){e.e(7).then(function(){var t=[e(121)];n.apply(null,t)}.bind(this)).catch(e.oe)}},{path:"/rankList/:id",name:"rankList",component:function(n){e.e(5).then(function(){var t=[e(116)];n.apply(null,t)}.bind(this)).catch(e.oe)}},{path:"/recommend/:id",name:"recommend",component:function(n){e.e(4).then(function(){var t=[e(117)];n.apply(null,t)}.bind(this)).catch(e.oe)}},{path:"/playing",name:"playing",meta:{noPageAnimation:!0},beforeEnter:function(n,t,e){r.a.state.playing.songlist.length>0&&e()},component:function(n){e.e(1).then(function(){var t=[e(114)];n.apply(null,t)}.bind(this)).catch(e.oe)}},{path:"/special",name:"special",component:function(n){e.e(9).then(function(){var t=[e(120)];n.apply(null,t)}.bind(this)).catch(e.oe)}},{path:"/radio",name:"radio",component:function(n){e.e(10).then(function(){var t=[e(115)];n.apply(null,t)}.bind(this)).catch(e.oe)}},{path:"/singerlist",name:"singerlist",component:function(n){e.e(8).then(function(){var t=[e(119)];n.apply(null,t)}.bind(this)).catch(e.oe)}},{path:"/singer/:id",name:"singer",component:function(n){e.e(3).then(function(){var t=[e(118)];n.apply(null,t)}.bind(this)).catch(e.oe)}}]});t.a=s},54:function(n,t){},55:function(n,t){},56:function(n,t,e){var i=e(35)(e(60),e(105),null,null);n.exports=i.exports},60:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e(19),a=e.n(i),r=e(20),o=e(9);t.default={name:"app",data:function(){return{prevRoutes:[]}},watch:{$route:function(n,t){n.meta.noPageAnimation||t.meta.noPageAnimation||(n.name===this.prevRoutes[this.prevRoutes.length-1]?(o.a.commit("transition/setTransition","turn-off"),this.prevRoutes.pop()):null!=t.name&&(o.a.commit("transition/setTransition","turn-on"),this.prevRoutes.push(t.name)))}},computed:a()({},e.i(r.a)("transition",["transitionName"]),e.i(r.a)("list",{showlist:"show"})),methods:{clearTransition:function(){o.a.commit("transition/setTransition","")},_openlist:function(n,t){n.children[0].classList.add("active")}},components:{playFixed:function(n){e.e(2).then(function(){var t=[e(113)];n.apply(null,t)}.bind(this)).catch(e.oe)},listView:function(n){e.e(6).then(function(){var t=[e(112)];n.apply(null,t)}.bind(this)).catch(e.oe)}}}},61:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e(19),a=e.n(i),r=e(20);t.default={name:"fallback",props:["callback","transition"],methods:a()({bind:function(n){var t=this.fallback;"function"==typeof n?this.callback(t):t()},fallback:function(){this.$router.go(-1)}},e.i(r.b)("transition",["setTransition","setAction"]))}},62:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e(2),a=e(56),r=e.n(a),o=(e(50),e(52),e(9)),s=e(53),c=(e(51),e(54)),u=(e.n(c),e(55));e.n(u);i.default.config.productionTip=!1,i.default.component("fallback",function(n){return n(e(36))}),new i.default({el:"#app",router:s.a,store:o.a,template:"<App/>",components:{App:r.a}})},9:function(n,t,e){"use strict";var i=e(19),a=e.n(i),r=e(37),o=e.n(r),s=e(2),c=e(20);e(21);s.default.use(c.d),t.a=new c.d.Store({modules:{transition:{namespaced:!0,state:{transitionName:"",action:[]},mutations:{setTransition:function(n,t){n.transitionName=t}}},list:{namespaced:!0,state:{show:!1,class:""},mutations:{toggleShow:function(n){n.show=!n.show},modifyClass:function(n,t){n.class=t}}},playing:{namespaced:!0,state:{songMsg:{data:{},getMedia:function(n){return n?"http://ws.stream.qqmusic.qq.com/"+n+".m4a?fromtag=46":""},songblum_prfix:"http://imgcache.qq.com/music/photo_new/T002R150x150M000"},songlist:[],songState:{playingState:"pause",playingProgress:0,current:0,pruneTime:0,currentIndex:0,currentLyricIndex:"",currentLyricDuration:"",currentLyricArr:[],timing:0,playingOrder:"cycle"}},mutations:{pause:function(n,t){var e=n.songMsg.data.songid;n.songState.playingState="pause"==t||null==e?"pause":"playing"+e},pruneCurrentTime:function(n,t){n.songState.pruneTime=n.songState.timing*t||0},switchLyricIndex:function(n,t){n.songState.currentLyricIndex=t},switchLyricsArr:function(n,t){n.songState.currentLyricArr=t instanceof Array?t:[]},switchLyricDuration:function(n,t){n.songState.currentLyricDuration=t},stackSonglist:function(n,t){n.songlist=[].concat(o()(t instanceof Array?t:[t||{}])),n.songState.currentIndex=0},pushSonglist:function(n,t){n.songlist=[].concat(o()(n.songlist),o()(t instanceof Array?t:[]))},switchPlayOrder:function(n,t){var e=["cycle","singleCycle","random"],i=e.indexOf(n.songState.playingOrder),a=e.indexOf(t);n.songState.playingOrder=a>-1?e[a]:e[i>=2?0:i+1]}},actions:{resetProgress:function(n){var t=n.state,e=n.commit,i=n.dispatch,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{currentTime:0,duration:0},r=parseInt(a.currentTime)||0,o=parseInt(a.duration)||0;t.songState.playingProgress=r/o,t.songState.current=r,t.songState.timing=o,r>=o&&o>0&&(i("playSong","next"),e("pruneCurrentTime",0))},pruneProgress:function(n,t){var e=n.state,i=n.dispatch,a=void 0;a=t<0?0:t>1?1:t,i("resetProgress",{currentTime:e.songState.timing*a,duration:e.songState.timing})},playSong:function(n,t){var e=n.state,i=(n.commit,n.dispatch),r=void 0;if("string"==typeof t){var o=e.songState.playingOrder,s=e.songlist,c=s.length,u=e.songState.currentIndex;switch(o){case"cycle":"next"==t?r=u>=c-1?0:++u:"prev"==t&&(r=0==u?c-1:--u);break;case"random":r=Math.random()*s.length>>0;break;case"singleCycle":r=u}}else r=t>>0;var l=e.songlist[r];e.songState.currentIndex=r,e.songMsg=a()({},e.songMsg,l),e.songState.playingState="play"+e.songMsg.data.songid,i("resetProgress")},clearSong:function(n,t){var e=n.state;n.dispatch;e.songlist.splice(t>>0,1)},clearSongStack:function(n){var t=n.state,e=n.commit,i=(n.dispatch,{data:{},getMedia:function(n){return n?"http://ws.stream.qqmusic.qq.com/"+n+".m4a?fromtag=46":""},songblum_prfix:"http://imgcache.qq.com/music/photo_new/T002R150x150M000"});t.songlist=[],t.songMsg=i,e("pause","pause")}}}}})}},[62]);
//# sourceMappingURL=app.8de0fbc563a82461e52a.js.map