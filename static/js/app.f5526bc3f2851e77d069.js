webpackJsonp([9],{102:function(t,n){},105:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("transition",{attrs:{name:t.transitionName},on:{afterLeave:t.clearTransition}},[e("router-view")],1),t._v(" "),e("play-fixed"),t._v(" "),e("transition",{attrs:{name:"list-view"}},[e(t.showlist&&"listView",{tag:"component"})],1)],1)},staticRenderFns:[]}},106:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"fallback"},[e("i",{staticClass:"mintui mintui-back arrow",on:{click:function(n){t.bind(t.callback)}}})])},staticRenderFns:[]}},20:function(t,n,e){"use strict";function i(t,n){var e=-1,i=t.length;for(n||(n=new Array(i));++e<i;)n[e]=t[e];return n}function r(t){var n=null==t?0:t.length;if(!n)return[];for(var e=-1,r=n-1,a=i(t);++e<n;){var o=e+Math.floor(Math.random()*(r-e+1)),s=a[o];a[o]=a[e],a[e]=s}return a}function a(t){var n=parseInt(t/60),e=parseInt(t)%60;return""+(n/10<1?0:"")+n+" : "+(e/10<1?0:"")+e}function o(t){var n=t.split(":");return 60*parseInt(n[0])+parseInt(n[1])}function s(t,n,e,i,r){var t=String(t),a=t.length,n=n>>0,r=r>>>0,i=i||"0",o=n>=0?t.slice(0,n):t.slice(0,a+n),s=r>0?t.slice(n).slice(0,r):t.slice(n);return void 0===e?s:(o=o||i)+e+s}function c(t){var n=new Date(t),e=n.getFullYear(),i=n.getMonth(),r=n.getDate(),a=[31,e%4==0&&e%100!=0||e%400==0?29:28,31,30,31,30,31,31,30,31,30,31];return a.slice(1,i).reduce(function(t,n){return t+n},a[0])+r}function u(t){var n=[];return t.forEach(function(t){n.push(t.name)}),n.join("/")}function l(t){return parseInt(100*Number(t))+"%"}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1];return t.indexOf(t.find(function(t){return("object"==S()(t.data)?t.data:{}).songid==n}))}function p(t){t&&t.preventDefault()}function d(t){var n={timeArr:[],lyricsArr:[],durationArr:[]};return t.split("\n").forEach(function(t){var e=t.indexOf("]");n.timeArr.push(o(t.slice(1,e))),n.lyricsArr.push(t.slice(e+1))}),n.timeArr.forEach(function(t,e){var i=n.timeArr;n.durationArr.push(e==i.length-1?10:i[e+1]-t)}),g(n)}function g(t){var n=t.timeArr||[],e=t.lyricsArr||[],i=t.durationArr||[],r=[];return e=e.filter(function(t,n){if(t)return r.push(n),!0}),n=n.filter(function(t,n){return r.find(function(t){return n==t})}),i=i.filter(function(t,n){return r.find(function(t){return n==t})}),{lyricsArr:e,timeArr:n,durationArr:i}}function m(t){var n=t||{},e=[];return e=[].concat(y()(n.hotkey)),e.unshift({k:n.special_key,url:t.special_url}),e.slice(0,6)}function h(t,n){var e=String(t).split("."),i=e[0],r=e[1]||"";return parseFloat(i+"."+r.slice(0,n>>0))}n.b=r,n.l=a,n.i=s,n.e=c,n.j=u,n.k=l,e.d(n,"g",function(){return w}),n.h=f,n.c=p,n.a=d,n.f=m,n.d=h;var v=e(37),y=e.n(v),b=e(66),S=e.n(b),w=function(){function t(t){if(t<3)return t;var n=t-20;return n>=0?n:0}return function(n,e){var i=t(e);return n.slice(i,i+30)}}()},36:function(t,n,e){var i=e(35)(e(61),e(106),null,null);t.exports=i.exports},50:function(t,n,e){"use strict";var i=e(2),r=e(20);i.default.filter("listenFormat",function(t){return e.i(r.i)(t,-4,".",0,1)}),i.default.filter("getDayOfYear",r.e),i.default.filter("spliceSinger",r.j),i.default.filter("convertListenCount",r.k),i.default.filter("timeFormat",r.l)},51:function(t,n,e){"use strict";var i=e(2),r=e(102),a=(e.n(r),e(49)),o=e.n(a);i.default.use(o.a)},52:function(t,n,e){"use strict";var i=e(2),r=e(9),a=e(20);i.default.mixin({methods:{playMusic:function(t,n,i){var o=(t[n],e.i(a.g)(t,n)),s=e.i(a.h)(o,i);r.a.commit("playing/stackSonglist",o),r.a.dispatch("playing/playSong",s)},goSpecial:function(t){this.$router.push({name:"special",query:{url:encodeURIComponent(t)}})}}})},53:function(t,n,e){"use strict";var i=e(2),r=e(107),a=e(9),o=e(49);e.n(o);i.default.use(r.a);var s=new r.a({linkActiveClass:"",mode:"history",routes:[{path:"/",name:"index",component:function(t){e.e(0).then(function(){var n=[e(111)];t.apply(null,n)}.bind(this)).catch(e.oe)}},{path:"/topList",name:"topList",component:function(t){e.e(6).then(function(){var n=[e(118)];t.apply(null,n)}.bind(this)).catch(e.oe)}},{path:"/rankList/:id",name:"rankList",component:function(t){e.e(4).then(function(){var n=[e(115)];t.apply(null,n)}.bind(this)).catch(e.oe)}},{path:"/recommend/:id",name:"recommend",component:function(t){e.e(3).then(function(){var n=[e(116)];t.apply(null,n)}.bind(this)).catch(e.oe)}},{path:"/playing",name:"playing",meta:{noPageAnimation:!0},beforeEnter:function(t,n,e){a.a.state.playing.songlist.length>0&&e()},component:function(t){e.e(1).then(function(){var n=[e(114)];t.apply(null,n)}.bind(this)).catch(e.oe)}},{path:"/special",name:"special",component:function(t){e.e(7).then(function(){var n=[e(117)];t.apply(null,n)}.bind(this)).catch(e.oe)}}]});n.a=s},54:function(t,n){},55:function(t,n){},56:function(t,n,e){var i=e(35)(e(60),e(105),null,null);t.exports=i.exports},60:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(19),r=e.n(i),a=e(21),o=e(9);n.default={name:"app",data:function(){return{prevRoutes:[]}},watch:{$route:function(t,n){t.meta.noPageAnimation||n.meta.noPageAnimation||(t.name===this.prevRoutes[this.prevRoutes.length-1]?(o.a.commit("transition/setTransition","turn-off"),this.prevRoutes.pop()):null!=n.name&&(o.a.commit("transition/setTransition","turn-on"),this.prevRoutes.push(n.name)))}},computed:r()({},e.i(a.a)("transition",["transitionName"]),e.i(a.a)("list",{showlist:"show"})),methods:{clearTransition:function(){o.a.commit("transition/setTransition","")},_openlist:function(t,n){t.children[0].classList.add("active")}},components:{playFixed:function(t){e.e(2).then(function(){var n=[e(113)];t.apply(null,n)}.bind(this)).catch(e.oe)},listView:function(t){e.e(5).then(function(){var n=[e(112)];t.apply(null,n)}.bind(this)).catch(e.oe)}}}},61:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(19),r=e.n(i),a=e(21);n.default={name:"fallback",props:["callback","transition"],methods:r()({bind:function(t){var n=this.fallback;"function"==typeof t?this.callback(n):n()},fallback:function(){this.$router.go(-1)}},e.i(a.b)("transition",["setTransition","setAction"]))}},62:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(2),r=e(56),a=e.n(r),o=(e(50),e(52),e(9)),s=e(53),c=(e(51),e(54)),u=(e.n(c),e(55));e.n(u);i.default.config.productionTip=!1,i.default.component("fallback",function(t){return t(e(36))}),new i.default({el:"#app",router:s.a,store:o.a,template:"<App/>",components:{App:a.a}})},9:function(t,n,e){"use strict";var i=e(19),r=e.n(i),a=e(37),o=e.n(a),s=e(2),c=e(21),u=e(20);s.default.use(c.d),n.a=new c.d.Store({modules:{transition:{namespaced:!0,state:{transitionName:"",action:[]},mutations:{setTransition:function(t,n){t.transitionName=n}}},list:{namespaced:!0,state:{show:!1,class:""},mutations:{toggleShow:function(t){t.show=!t.show},modifyClass:function(t,n){t.class=n}}},playing:{namespaced:!0,state:{songMsg:{data:{},getMedia:function(t){return t?"http://ws.stream.qqmusic.qq.com/"+t+".m4a?fromtag=46":""},songblum_prfix:"http://imgcache.qq.com/music/photo_new/T002R150x150M000"},songlist:[],songState:{playingState:"pause",playingProgress:0,current:0,currentIndex:0,currentLyricIndex:"",currentLyricDuration:"",currentLyricArr:[],timing:0,playingOrder:"cycle"}},mutations:{pause:function(t,n){var e=t.songMsg.data.songid;t.songState.playingState="pause"==n||null==e?"pause":"playing"+e},switchLyricIndex:function(t,n){t.songState.currentLyricIndex=n},switchLyricsArr:function(t,n){t.songState.currentLyricArr=n instanceof Array?n:[]},switchLyricDuration:function(t,n){t.songState.currentLyricDuration=n},stackSonglist:function(t,n){t.songlist=[].concat(o()(n instanceof Array?n:[n||{}])),t.songState.currentIndex=0},pushSonglist:function(t,n){t.songlist=[].concat(o()(t.songlist),o()(n instanceof Array?n:[]))},switchPlayOrder:function(t){var n=["cycle","singleCycle","random"],e=n.indexOf(t.songState.playingOrder);t.songState.playingOrder=n[e>=2?0:e+1]}},actions:{resetProgress:function(t){var n=t.state,e=t.dispatch,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{currentTime:0,duration:0},r=parseInt(i.currentTime),a=parseInt(i.duration);n.songState.playingProgress=r/a,n.songState.current=r,n.songState.timing=a,r>=a&&a>0&&e("playSong","next")},playSong:function(t,n){var i=t.state,a=t.commit,o=t.dispatch,s=void 0;if("string"==typeof n){var c=i.songState.playingOrder,l=i.songlist,f=l.length,p=i.songState.currentIndex;switch(c){case"cycle":"next"==n?s=p>=f-1?0:++p:"prev"==n&&(s=0==p?f-1:--p);break;case"random":s=e.i(u.b)(l)[0];break;case"singleCycle":s=p}}else s=n>>0;var d=i.songlist[s];i.songState.currentIndex=s,i.songMsg=r()({},i.songMsg,d),i.songState.playingState="play"+i.songMsg.data.songid,o("resetProgress"),a("pause")},clearSong:function(t,n){var e=t.state;t.dispatch;e.songlist.splice(n>>0,1)},clearSongStack:function(t){var n=t.state,e=t.commit,i=(t.dispatch,{data:{},getMedia:function(t){return t?"http://ws.stream.qqmusic.qq.com/"+t+".m4a?fromtag=46":""},songblum_prfix:"http://imgcache.qq.com/music/photo_new/T002R150x150M000"});n.songlist=[],n.songMsg=i,e("pause","pause")}}}}})}},[62]);
//# sourceMappingURL=app.f5526bc3f2851e77d069.js.map